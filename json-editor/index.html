<!DOCTYPE html>
<html>
  <head>
    <title>JSON Editor</title>
    <link rel="stylesheet" href="styles.css" />
    <script defer src="main.js"></script>
    <!-- Debugging - Uncomment the following line to enable debugging scripts -->
    <!-- <script defer src="testScripts.js"></script> -->
  </head>

  <body>
    <div class="textarea-container">
      <h1 class="main-header">JSON Editor</h1>
      <p class="intro-text">
        Insert JSON and press Load JSON to populate the tool. Making edits to
        via the interface will update both the JSON and Live Preview.
      </p>
      <textarea id="jsonInput" rows="10" cols="50"></textarea><br />
      <button onclick="displayJson()">Load JSON</button>
      <button class="sample-button" onclick="loadSampleJson()">
        Load Sample JSON</button
      ><br />
      <select id="productSelect" onchange="populateItemDropdown()"></select>
      <button onclick="addObjectToSelectedProduct()">
        Add Object to Selected Product</button
      ><br />
      <select id="itemSelect"></select>
      <button onclick="removeSelectedItem()">Remove Selected Item</button>
      <div id="output"></div>
      <!-- Debugging - Uncomment the following line to enable debugging scripts  -->
      <!-- <div id="test-buttons-placeholder"></div> -->
    </div>
    <div id="preview">
      <h2>Live Preview</h2>
      <div id="previewContent"></div>
    </div>
    <script>
      // Temp function for demo purposes
      function loadSampleJson() {
        fetch('json-code-sample.json')
          .then((response) => response.json())
          .then((data) => {
            document.getElementById('jsonInput').value = JSON.stringify(
              data,
              null,
              2
            );
            displayJson(); // Load the JSON into the editor and update the UI
          })
          .catch((error) => {
            console.error('Error loading sample JSON:', error);
          });
      }
    </script>
  </body>
</html>
